# SchedLock Configuration
# Copy this file to .env and fill in your values

# ======================
# REQUIRED SETTINGS
# ======================

# Server secret for HMAC key hashing (min 32 chars, base64 encoded recommended)
# Generate with: openssl rand -base64 32
SCHEDLOCK_SERVER_SECRET=

# Encryption key for OAuth token storage (32 bytes base64)
# Generate with: openssl rand -base64 32
SCHEDLOCK_ENCRYPTION_KEY=

# Admin password hash (Argon2id)
# Generate with: schedlock hash-password "YourPassword"
# Format: $argon2id$v=19$m=65536,t=3,p=4$SALT$HASH
SCHEDLOCK_AUTH_PASSWORD_HASH=

# Optional dev-only plaintext password (not recommended)
# SCHEDLOCK_ADMIN_PASSWORD=

# Google OAuth credentials
# Create at: https://console.cloud.google.com/apis/credentials
SCHEDLOCK_GOOGLE_CLIENT_ID=
SCHEDLOCK_GOOGLE_CLIENT_SECRET=

# ======================
# SERVER SETTINGS
# ======================

# Public URL for callbacks and notification links
SCHEDLOCK_BASE_URL=http://localhost:8080

# Port to listen on
SCHEDLOCK_SERVER_PORT=8080

# Read/write timeouts (e.g. 30s)
# SCHEDLOCK_READ_TIMEOUT=30s
# SCHEDLOCK_WRITE_TIMEOUT=30s

# ======================
# APPROVAL SETTINGS
# ======================

# How long to wait for approval (minutes)
SCHEDLOCK_APPROVAL_TIMEOUT=60

# Default action on timeout: approve or deny
SCHEDLOCK_APPROVAL_DEFAULT_ACTION=deny

# ======================
# NOTIFICATIONS
# ======================

# --- ntfy ---
SCHEDLOCK_NTFY_ENABLED=false
SCHEDLOCK_NTFY_TOPIC=
SCHEDLOCK_NTFY_SERVER_URL=https://ntfy.sh
SCHEDLOCK_NTFY_TOKEN=
SCHEDLOCK_NTFY_MINIMAL_CONTENT=false

# --- Pushover ---
SCHEDLOCK_PUSHOVER_ENABLED=false
SCHEDLOCK_PUSHOVER_APP_TOKEN=
SCHEDLOCK_PUSHOVER_USER_KEY=

# --- Telegram ---
SCHEDLOCK_TELEGRAM_ENABLED=false
SCHEDLOCK_TELEGRAM_BOT_TOKEN=
SCHEDLOCK_TELEGRAM_CHAT_ID=
SCHEDLOCK_TELEGRAM_WEBHOOK_SECRET=

# ======================
# MOLTBOT WEBHOOK
# ======================

# URL to send status updates (optional)
SCHEDLOCK_MOLTBOT_WEBHOOK_URL=
SCHEDLOCK_MOLTBOT_WEBHOOK_SECRET=

# ======================
# RATE LIMITING
# ======================

# Requests per minute by tier
SCHEDLOCK_RATE_LIMIT_READ=60
SCHEDLOCK_RATE_LIMIT_WRITE=30
SCHEDLOCK_RATE_LIMIT_ADMIN=120

# ======================
# DATA RETENTION
# ======================

# Days to keep completed requests
SCHEDLOCK_RETENTION_REQUEST_DAYS=30

# Days to keep audit logs
SCHEDLOCK_RETENTION_AUDIT_DAYS=90

# ======================
# LOGGING
# ======================

# Log level: debug, info, warn, error
SCHEDLOCK_LOG_LEVEL=info

# Log format: json, text
SCHEDLOCK_LOG_FORMAT=json

# ======================
# DATABASE
# ======================

# Database file path (relative to data dir)
SCHEDLOCK_DB_NAME=schedlock.db

# Data directory
SCHEDLOCK_DATA_DIR=./data

# ======================
# CLOUDFLARE TUNNEL (optional)
# ======================

# CLOUDFLARE_TUNNEL_TOKEN=
