{{define "content"}}
<div class="page-header">
    <h1>Audit History</h1>
    <p>Complete log of all system activities and decisions</p>
</div>

{{if .Entries}}
<div class="card animate-fade-in-scale">
    <div class="table-container">
        <table class="table">
            <thead>
                <tr>
                    <th>Timestamp</th>
                    <th>Event</th>
                    <th>Request</th>
                    <th>Actor</th>
                    <th>IP Address</th>
                </tr>
            </thead>
            <tbody>
                {{range .Entries}}
                <tr>
                    <td>{{formatTime .Timestamp}}</td>
                    <td>
                        <span class="badge badge-default">{{.EventType}}</span>
                    </td>
                    <td>
                        {{if .RequestID.Valid}}
                        <a href="/requests/{{.RequestID.String}}">{{.RequestID.String}}</a>
                        {{else}}
                        <span style="color: var(--text-muted);">&mdash;</span>
                        {{end}}
                    </td>
                    <td style="color: var(--text-primary); font-weight: 500;">{{.Actor}}</td>
                    <td class="font-mono" style="font-size: var(--text-xs);">
                        {{if .IPAddress.Valid}}{{.IPAddress.String}}{{else}}&mdash;{{end}}
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div>
{{else}}
<div class="empty-state animate-fade-in">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" class="empty-state-icon">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    <h3>No Audit Entries</h3>
    <p>Audit logs will appear here as actions are taken in the system.</p>
</div>
{{end}}
{{end}}

{{template "layout" .}}
